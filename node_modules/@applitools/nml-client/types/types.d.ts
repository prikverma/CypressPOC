import type { Size, Location, Region } from '@applitools/utils';
import { type Logger } from '@applitools/logger';
import { type Proxy } from '@applitools/req';
export interface NMLClient {
    preTakeScreenshot(options: {
        logger?: Logger;
    }): Promise<void>;
    takeScreenshots(options: {
        settings: ScreenshotSettings;
        logger?: Logger;
    }): Promise<Screenshot[]>;
    takeSnapshots<TSnapshot extends IOSSnapshot | AndroidSnapshot = IOSSnapshot | AndroidSnapshot>(options: {
        settings: SnapshotSettings;
        logger?: Logger;
    }): Promise<TSnapshot[]>;
}
export interface BrokerServerSettings {
    brokerUrl: string;
    supportedEnvironmentsUrl: string;
    agentId?: string;
    proxy?: Proxy;
    useDnsCache?: boolean;
}
export type NMLClientSettings = BrokerServerSettings;
export interface IOSDeviceEnvironment {
    iosDeviceInfo: {
        deviceName: string;
        version?: string;
        screenOrientation?: string;
    };
}
export interface AndroidDeviceEnvironment {
    androidDeviceInfo: {
        deviceName: string;
        version?: string;
        screenOrientation?: string;
    };
}
export interface LocalEnvironment {
    environmentId: string;
    os: string;
    deviceName: string;
    viewportSize: Size;
}
export type Environment = IOSDeviceEnvironment | AndroidDeviceEnvironment | LocalEnvironment;
export type ActualEnvironment = LocalEnvironment & {
    requested?: IOSDeviceEnvironment | AndroidDeviceEnvironment;
};
export type Selector = string | {
    selector: string;
    type?: string;
    shadow?: Selector;
    frame?: Selector;
};
export type ScreenshotSettings = {
    environments: Environment[];
    webview?: boolean | string;
    region?: Region | Selector;
    fully?: boolean;
    scrollRootElement?: Selector;
    stitchMode?: 'Scroll' | 'CSS' | 'Resize';
    hideScrollbars?: boolean;
    hideCaret?: boolean;
    overlap?: {
        top?: number;
        bottom?: number;
    };
    waitBeforeCapture?: number;
    waitBetweenStitches?: number;
    lazyLoad?: boolean | {
        scrollLength?: number;
        waitingTime?: number;
        maxAmountToScroll?: number;
    };
    selectorsToFindRegionsFor?: Selector[];
    name?: string;
};
export type Screenshot = {
    image: string;
    size?: Size;
    name?: string;
    source?: string;
    dom?: string;
    locationInViewport?: Location;
    locationInView?: Location;
    fullViewSize?: Size;
    calculateRegions?: Region[][];
    environment: ActualEnvironment;
};
export type SnapshotSettings = {
    environments: Environment[];
    resourceSeparation?: boolean;
    waitBeforeCapture?: number;
    name?: string;
};
export type AndroidSnapshot = {
    platformName: 'android';
    vhsType: string;
    vhsHash: {
        hashFormat: string;
        hash: string;
        contentType: string;
    };
};
export type IOSSnapshot = {
    platformName: 'ios';
    vhsCompatibilityParams: Record<string, any>;
    vhsHash: {
        hashFormat: string;
        hash: string;
        contentType: string;
    };
};
